{% extends "base.html" %}
{% block content %}
<div class="nav-bar">
    <i class="fas fa-bars"></i><span>门锁列表</span><a href="{{ url_for('add_device') }}"><i class="fas fa-plus"></i></a>
</div>
<div class="blue-status-bar"><i class="fab fa-bluetooth-b me-2"></i> 蓝牙服务已连接</div>
<div class="flex-grow-1 overflow-auto bg-white">
    {% for dev in devices %}
    <a href="{{ url_for('device_control', device_id=dev.id) }}" class="text-decoration-none">
        <div class="device-item">
            <div class="device-icon"><i class="fas fa-lock{% if dev.status == 'unlocked' %}-open{% endif %}"></i></div>
            <div style="flex:1;">
                <div style="font-weight:bold; color:#333;">{{ dev.name }}</div>
                <div style="font-size:12px; color:#999;">{{ '已上锁' if dev.status=='locked' else '已开启' }}</div>
            </div>
            <div class="text-primary"><i class="fas fa-chevron-right"></i></div>
        </div>
    </a>
    <div class="info-strip">{{ dev.location }}</div>
    {% else %}
    <div class="text-center p-5 text-muted">暂无设备</div>
    {% endfor %}
</div>
{% include 'bottom_nav.html' %} <!-- 使用include方式复用底部栏代码 -->
{% endblock %}